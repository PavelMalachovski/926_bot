[mypy]
# Python version
python_version = 3.11

# Enable some useful features
warn_return_any = True
warn_unused_configs = True
disallow_untyped_defs = False
disallow_incomplete_defs = False
check_untyped_defs = False
disallow_untyped_decorators = False

# Ignore missing imports for libraries without stubs
ignore_missing_imports = True

# Disable strict checks that are causing many errors
no_implicit_optional = False
strict_optional = False
warn_redundant_casts = False
warn_unused_ignores = False
warn_no_return = False
warn_unreachable = False

# Allow some flexibility
allow_redefinition = True
allow_untyped_globals = True
allow_incomplete_defs = True

# Exclude problematic modules/files
exclude = (?x)^(tests/|migrations/|build/|dist/|\.venv/|venv/|__pycache__/)/

# Per-module options for specific files that have many issues
[mypy-app.services.*]
ignore_errors = True

[mypy-app.database.models]
ignore_errors = True

[mypy-app.api.v1.endpoints.telegram]
ignore_errors = True

[mypy-app.tasks.*]
ignore_errors = True

[mypy-app.services.cache_service]
ignore_errors = True

[mypy-app.services.database_service]
ignore_errors = True

[mypy-app.services.forex_service]
ignore_errors = True

[mypy-app.services.chart_service]
ignore_errors = True

[mypy-app.services.gpt_analysis_service]
ignore_errors = True

[mypy-app.services.telegram_service]
ignore_errors = True

[mypy-app.services.user_service]
ignore_errors = True

[mypy-app.services.user_settings_service]
ignore_errors = True

[mypy-app.services.notification_service]
ignore_errors = True

[mypy-app.services.notification_scheduler_service]
ignore_errors = True

[mypy-app.services.digest_service]
ignore_errors = True

[mypy-app.services.scraping_service]
ignore_errors = True

[mypy-app.services.scraping_selenium]
ignore_errors = True

[mypy-app.services.scraping_parser]
ignore_errors = True

[mypy-app.services.visualize_service]
ignore_errors = True

[mypy-app.utils.telegram_utils]
ignore_errors = True

[mypy-app.core.security]
ignore_errors = True

[mypy-app.database.connection]
ignore_errors = True

[mypy-app.api.v1.endpoints.health]
ignore_errors = True

[mypy-app.api.v1.endpoints.forex_news]
ignore_errors = True

[mypy-app.api.v1.endpoints.notifications]
ignore_errors = True

[mypy-app.main]
ignore_errors = True

[mypy-app.core.logging]
ignore_errors = True

[mypy-app.middleware.redis_middleware]
ignore_errors = True
